# Structural Causal Models (II): Selection Bias and Transportability
## Selection Bias
Nonrandom sampling compromises the representativeness of the collected data for the underlying population, which can explain away the conclusions of both statistical and causal inference.
### Augmented Causal DAG
To capture the sample selection mechanism, a dichotomous variable $S$ is introduced to indicate whether a unit is part of the sample. Endogenous variables that affect the sampling probability will be connected to $S$ with directed edges. (Here we do not consider the cases where $S$ emits arrows.) The augmented DAG $\mathcal{G}$ is denoted as $\mathcal{G}_S.$ 

An oversimplified example is given below.

<div align=center>
   <img src='https://github.com/JurrivhLeon/JurrivhLeon.github.io/raw/main/figs/causalDAG4.png' width='320'/> 
</div>

After augmentation, we need to simultaneously control for confounding and selection bias in do-calculus. Not only is it necessary to transform interventional distributions
into do-free expressions, but the probabilities that make up these expressions now also need to be conditional on $S = 1$, because that is all the analyst is able to observe.

### Recoverability

**Theorem 1** (Necessary and sufficient condition of recoverability, in do-free expressions). The conditional distribution $p(y\vert t)$ is recoverable from $\mathcal{G}_ S,$ as $p(y\vert t, S = 1),$ if and only if $Y\perp S|T.$

Combining Theorem 1 with do-calculus suggests a straightforward strategy for recovering do-expressions from selection bias:

**Corollary 1.** The causal effect $Q = p(y|\mathrm{do}(x))$ is recoverable from selection-biased data, i.e. $p(v|S = 1),$ if using the rules of the do-calculus,
$Q$ is reducible to a do-free expression, and recoverability is determined by Theorem 1.

## Transportability
